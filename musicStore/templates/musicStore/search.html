{% extends 'musicStore/base.html' %}

{% block title %}Search Result{% endblock %}
{% block body %}
{% load static %}
    <div class="col-lg-12" style="margin-top: 2%">
    <div class="row" style="background-color: whitesmoke">

<!---<h2> Id of the searched text is: <strong>{{ identity.id }}</strong></h2>
<h2> Id of the searched text is: <strong>{{ identity }}</strong></h2>
<h2> Id of the searched text is: <strong>{{ song}}</strong></h2>---->
    <div class="col-lg-5">
 <h2 style="text-align: center;margin-top: 2%;color: darkgray">You searched for: <strong style="color: black">{{ get }}</strong></h2>
       </div>
        <div class="col-lg-5">
        {% if result %}
            <h2 style="text-align: center;margin-top: 2%;color: darkgray">Found <strong style="color: black">{{ result|length }} Album{{ result|pluralize }}: </strong>

                {% for album in result %}
               {{ album.album_title }}
                {% endfor %}

        {% else %}
            <p>No Album matched your search criteria.</p>
        {% endif %}
            </h2>
        </div>
<div class="col-lg-2" style="margin-top: 2%">
     <form class="form-inline my-2 my-lg-0 navbar-nav mr-auto" method="get" role="search"
          action="{% url 'musicStore:dispdetail' %}" style="float: right; " ><strong style="color: darkgray"> Not Found?</strong>
            <input type="hidden" name="query" value="{{ get }}"/>
             <button class="btn btn-dark my-2 my-sm-0" type="submit">Search Here</button>
        </form>
</div>
    </div>
        <div class="row" style="margin-top: 2%; background-color:whitesmoke">
<div class="col-lg-12">
         {% if song %}
        <h5 style="text-align:center; color: darkgrey">Found: <strong style="color: black">{{ song|length }} Song{{ song|pluralize }}.</strong></h5>
             </div>
 {%  for songs in song %}
                <div class="col-md-4" style="margin-top: 2%">
                    <div class="card">
                        <a href="{% url 'musicStore:detail' songs.id %}">
                            <img src="{{songs.song_logo }}" class="card-img-top img-fluid" style="height: 350px; width: 500px;">
                        </a>
                        <div class="card-body">
                            <h3 style="color: darkgray">Song info</h3>
                            <h5 style="color: darkgray">Artist: <strong style="color: #0a0a0a">{{songs.album.artist }}</strong></h5>
                            <h5 style="color: darkgray"> Featured artist: <strong style="color: #0a0a0a">{{songs.featured_artist }}</strong></h5>
                            <h5 style="color: darkgray"> Featured artist: <strong style="color: #0a0a0a">{{songs.song_title}}</strong></h5>
                            <h5 style="color: darkgray">Song type: <strong style="color: #0a0a0a">{{songs.file_type }}</strong></h5>
                             <h5 style="color: darkgray">Realesed Date: <strong style="color: #0a0a0a">{{songs.production_date }}</strong></h5>
                            <!-- View Details -->
                            <a href="{% url 'musicStore:download' songs.id %}" class="btn btn-dark btn-sm fa fa-download" aria-hidden="true" role="button"> Download</a>

                        </div>
                    </div>
                </div>
                {% cycle '' '' '' '' '' '<div class="clearfix visible-lg"></div>' %}
            {% endfor %}
{% endif %}
 </div>






        <!----<div class="row">
        {% if song %}
            <p><strong>Found {{ song|length }} Song{{ song|pluralize }}.</strong></p>
            <ul>
            {% for songs in song %}
                <li style="list-style-type: circle;color: white">{{ songs.song_title }}</li>
            {% endfor %}
            </ul>
        {% endif %}
        </div>----->
        <form class="form-inline my-2 my-lg-0 navbar-nav mr-auto" method="get" role="search"
          action="{% url 'musicStore:dispdetail' %}" style="margin-left: -70%" ><strong> Not Found?</strong>
            <input type="hidden" name="query" value="{{ get }}"/>
             <button class="btn btn-dark my-2 my-sm-0" type="submit">Search Here</button>
        </form>
       <!----<h4>Not Found?</h4>
         <div class="card" style="background-color: #DBDBEA;width: 25%;">
                        <div class="card-header" id="headingOne">
                            <h5 class="mb-0">
                                <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" style="color: black">
                                    Search Here
                                </button>
                             </h5>
                        </div>
                          <!--<div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                              <div class="card-body">
                                  <form class="form-inline my-2 my-lg-0 navbar-nav mr-auto" method="get" role="search" action="{% url 'musicStore:displaydetail' %}">
                                    <input class="form-control mr-sm-2 col-lg-12" style="color: black" type="search" placeholder="Artist" aria-label="Search" name="z" value="{{ request.GET.z }}" >
                                    <button class="btn btn-outline-light my-2 my-sm-0" type="submit" style="background-color: black;color: white;margin-top: 1%">Search</button>
                                  </form>
                              </div>
                          </div>
                      </div>--->


    <form class="form-inline my-2 my-lg-0 navbar-nav mr-auto" method="get" role="search"
          action="{% url 'musicStore:index' %}" style="margin-left: 80%" >

             <button class="btn btn-dark my-2 my-sm-0" type="submit">Back</button>
    </form>
    <br>
    </div>
{% endblock %}